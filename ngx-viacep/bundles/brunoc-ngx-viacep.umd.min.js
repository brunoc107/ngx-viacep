!function(t,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/common/http")):"function"==typeof define&&define.amd?define("@brunoc/ngx-viacep",["exports","@angular/core","@angular/common/http"],r):r((t.brunoc=t.brunoc||{},t.brunoc["ngx-viacep"]={}),t.ng.core,t.ng.common.http)}(this,function(t,r,e){"use strict";var O=function(t,r){return(O=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)r.hasOwnProperty(e)&&(t[e]=r[e])})(t,r)};var _={CEP_NAO_ENCONTRADO:0,CEP_VAZIO:1,CEP_INVALIDO:2,CEP_MUITO_CURTO:3,CEP_MUITO_LONGO:4,UF_VAZIA:5,UF_MUITO_CURTA:6,UF_MUITO_LONGA:7,UF_NAO_EXISTE:8,MUNICIPIO_VAZIO:9,MUNICIPIO_MUITO_CURTO:10,LOGRADOURO_VAZIO:11,LOGRADOURO_MUITO_CURTO:12,ERRO_SERVIDOR:13};_[_.CEP_NAO_ENCONTRADO]="CEP_NAO_ENCONTRADO",_[_.CEP_VAZIO]="CEP_VAZIO",_[_.CEP_INVALIDO]="CEP_INVALIDO",_[_.CEP_MUITO_CURTO]="CEP_MUITO_CURTO",_[_.CEP_MUITO_LONGO]="CEP_MUITO_LONGO",_[_.UF_VAZIA]="UF_VAZIA",_[_.UF_MUITO_CURTA]="UF_MUITO_CURTA",_[_.UF_MUITO_LONGA]="UF_MUITO_LONGA",_[_.UF_NAO_EXISTE]="UF_NAO_EXISTE",_[_.MUNICIPIO_VAZIO]="MUNICIPIO_VAZIO",_[_.MUNICIPIO_MUITO_CURTO]="MUNICIPIO_MUITO_CURTO",_[_.LOGRADOURO_VAZIO]="LOGRADOURO_VAZIO",_[_.LOGRADOURO_MUITO_CURTO]="LOGRADOURO_MUITO_CURTO",_[_.ERRO_SERVIDOR]="ERRO_SERVIDOR";var I=function(e){function n(t){var r=e.call(this,_[t])||this;return r.errorCode=t,Object.setPrototypeOf(r,n.prototype),r}return function o(t,r){function e(){this.constructor=t}O(t,r),t.prototype=null===r?Object.create(r):(e.prototype=r.prototype,new e)}(n,e),n.prototype.getCode=function(){return this.errorCode},n.prototype.ofType=function(t){return this.getCode()===t},n}(Error),o="https://viacep.com.br/ws",n=["AC","AL","AM","AP","BA","CE","DF","ES","GO","MA","MG","MS","MT","PA","PB","PE","PI","PR","RJ","RN","RO","RR","RS","SC","SE","SP","TO"],i=function(){function i(t){this.http=t}return i.throwCepError=function(t){throw new I(t)},i.validateCep=function(t){var r=new RegExp(/^[0-9]+$/);i.stringIsEmpty(t)?i.throwCepError(_.CEP_VAZIO):r.test(t)?t.length<8?i.throwCepError(_.CEP_MUITO_CURTO):8<t.length&&i.throwCepError(_.CEP_MUITO_LONGO):i.throwCepError(_.CEP_INVALIDO)},i.clearCep=function(t){return(""+t).replace(".","").replace("-","")},i.stringIsEmpty=function(t){return""===t.trim()||null==t},i.stringHasMinimumLength=function(t,r){return t.trim().length>=r},i.stringHasMaximumLength=function(t,r){return t.trim().length<=r},i.ufExists=function(t){return-1<n.indexOf(t.toLocaleUpperCase())},i.validateState=function(t){i.stringIsEmpty(t)&&i.throwCepError(_.UF_VAZIA),i.stringHasMinimumLength(t,2)||i.throwCepError(_.UF_MUITO_CURTA),i.stringHasMaximumLength(t,2)||i.throwCepError(_.UF_MUITO_LONGA),i.ufExists(t)||i.throwCepError(_.UF_NAO_EXISTE)},i.validateTown=function(t){i.stringIsEmpty(t)&&i.throwCepError(_.MUNICIPIO_VAZIO),i.stringHasMinimumLength(t,3)||i.throwCepError(_.MUNICIPIO_MUITO_CURTO)},i.validateStreet=function(t){i.stringIsEmpty(t)&&i.throwCepError(_.LOGRADOURO_VAZIO),i.stringHasMinimumLength(t,3)||i.throwCepError(_.LOGRADOURO_MUITO_CURTO)},i.prototype.findByCep=function(t){var r=o+"/"+t+"/json";return this.http.get(r)},i.prototype.searchAddress=function(t,r,e){var n=o+"/"+t+"/"+r+"/"+e+"/json";return this.http.get(n)},i.prototype.buscarPorCep=function(n){var o=this;return new Promise(function(r,e){var t=i.clearCep(n);i.validateCep(t),o.findByCep(t).toPromise().then(function(t){"cep"in t?r(t):e(new I(_.CEP_NAO_ENCONTRADO))})["catch"](function(){e(new I(_.ERRO_SERVIDOR))})})},i.prototype.buscarPorEndereco=function(e,n,o){var O=this;return new Promise(function(r,t){i.validateState(e),i.validateTown(n),i.validateStreet(o),O.searchAddress(e,n,o).toPromise().then(function(t){r(t)})["catch"](function(){t(new I(_.ERRO_SERVIDOR))})})},i.decorators=[{type:r.Injectable}],i.ctorParameters=function(){return[{type:e.HttpClient}]},i}(),u=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{imports:[e.HttpClientModule],declarations:[],exports:[],providers:[i]}]}],t}();t.NgxViacepModule=u,t.NgxViacepService=i,t.ErrorValues=_,t.ErroCep=I,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=brunoc-ngx-viacep.umd.min.js.map